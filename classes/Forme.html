<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>Forme</title>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='../css/style.css' media='screen' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
  function popupCode(url) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  
  function toggleCode(id) {
    var code = document.getElementById(id)
  
    code.style.display = code.style.display != 'block' ? 'block' : 'none'
    return true
  }
  
  // Make codeblocks hidden by default
  document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
</script>
</head>
<body class='page'>
<div class='class' id='wrapper'>
<div class='header'>
<h1 class='name'><span class='type'>module</span>
Forme
</h1>
<ol class='paths'>
<li>
<a href="../files/lib/forme_rb.html">lib/forme.rb</a>
</li>
<li class='other'>
<a href="../files/lib/forme/bs3_rb.html">lib/forme/bs3.rb</a>
</li>
<li class='other'>
<a href="../files/lib/forme/erb_rb.html">lib/forme/erb.rb</a>
</li>
<li class='other'>
<a href="../files/lib/forme/form_rb.html">lib/forme/form.rb</a>
</li>
<li class='other'>
<a href="../files/lib/forme/input_rb.html">lib/forme/input.rb</a>
</li>
<li class='other'>
<a href="../files/lib/forme/rails_rb.html">lib/forme/rails.rb</a>
</li>
<li class='other'>
<a href="../files/lib/forme/raw_rb.html">lib/forme/raw.rb</a>
</li>
<li class='other'>
<a href="../files/lib/forme/sinatra_rb.html">lib/forme/sinatra.rb</a>
</li>
<li class='other'>
<a href="../files/lib/forme/tag_rb.html">lib/forme/tag.rb</a>
</li>
<li class='other'>
<a href="../files/lib/forme/template_rb.html">lib/forme/template.rb</a>
</li>
<li class='other'>
<a href="../files/lib/forme/transformers/error_handler_rb.html">lib/forme/transformers/error_handler.rb</a>
</li>
<li class='other'>
<a href="../files/lib/forme/transformers/formatter_rb.html">lib/forme/transformers/formatter.rb</a>
</li>
<li class='other'>
<a href="../files/lib/forme/transformers/helper_rb.html">lib/forme/transformers/helper.rb</a>
</li>
<li class='other'>
<a href="../files/lib/forme/transformers/inputs_wrapper_rb.html">lib/forme/transformers/inputs_wrapper.rb</a>
</li>
<li class='other'>
<a href="../files/lib/forme/transformers/labeler_rb.html">lib/forme/transformers/labeler.rb</a>
</li>
<li class='other'>
<a href="../files/lib/forme/transformers/serializer_rb.html">lib/forme/transformers/serializer.rb</a>
</li>
<li class='other'>
<a href="../files/lib/forme/transformers/wrapper_rb.html">lib/forme/transformers/wrapper.rb</a>
</li>
<li class='other'>
<a href="../files/lib/forme/version_rb.html">lib/forme/version.rb</a>
</li>
<li>
<a class='show' href='#' onclick='this.parentNode.parentNode.className += &quot; expanded&quot;; this.parentNode.removeChild(this); return false'>show all</a>
</li>
</ol>
</div>
<div id='content'>
<div id='text'>
<div id='description'></div>
<div id='method-list'>
<h2>Methods</h2>
<h3>Public Class</h3>
<ol>
<li><a href="#method-c-attr_classes">attr_classes</a></li>
<li><a href="#attribute-c-default_add_blank_prompt">default_add_blank_prompt</a></li>
<li><a href="#attribute-c-default_config">default_config</a></li>
<li><a href="#method-c-form">form</a></li>
<li><a href="#method-c-h">h</a></li>
<li><a href="#method-c-merge_classes">merge_classes</a></li>
<li><a href="#method-c-raw">raw</a></li>
<li><a href="#method-c-register_config">register_config</a></li>
<li><a href="#method-c-register_transformer">register_transformer</a></li>
<li><a href="#method-c-transform">transform</a></li>
<li><a href="#method-c-transformer">transformer</a></li>
<li><a href="#method-c-version">version</a></li>
</ol>
</div>
<div id='context'>
</div>
<div id='class-list'>
<h2>Classes and Modules</h2>
<ol>
<li><a href="Forme/ERB.html">Forme::ERB</a></li>
<li><a href="Forme/Rails.html">Forme::Rails</a></li>
<li><a href="Forme/Raw.html">Forme::Raw</a></li>
<li><a href="Forme/Sinatra.html">Forme::Sinatra</a></li>
<li><a href="Forme/Template.html">Forme::Template</a></li>
<li><a href="Forme/Error.html">Forme::Error</a></li>
<li><a href="Forme/ErrorHandler.html">Forme::ErrorHandler</a></li>
<li><a href="Forme/Form.html">Forme::Form</a></li>
<li><a href="Forme/Formatter.html">Forme::Formatter</a></li>
<li><a href="Forme/Helper.html">Forme::Helper</a></li>
<li><a href="Forme/Input.html">Forme::Input</a></li>
<li><a href="Forme/InputsWrapper.html">Forme::InputsWrapper</a></li>
<li><a href="Forme/Labeler.html">Forme::Labeler</a></li>
<li><a href="Forme/RawString.html">Forme::RawString</a></li>
<li><a href="Forme/Serializer.html">Forme::Serializer</a></li>
<li><a href="Forme/Tag.html">Forme::Tag</a></li>
<li><a href="Forme/Wrapper.html">Forme::Wrapper</a></li>
</ol>
</div>
<div id='section'>
<div id='constants-list'>
<h2>Constants</h2>
<div class='name-list'>
<table summary='Constants'>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>CGI</td>
<td>=</td>
<td class='context-item-value'>Object.new</td>
<td>&nbsp;</td>
<td class='context-item-desc'></td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>CONFIGURATIONS</td>
<td>=</td>
<td class='context-item-value'>{:default=>{}}</td>
<td>&nbsp;</td>
<td class='context-item-desc'>
<p>Hash storing all configurations.  Configurations are groups of related transformers, so that you can specify a single :config option when creating a <code>Form</code> and have all of the transformers set from that.</p>
</td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>ESCAPE_TABLE</td>
<td>=</td>
<td class='context-item-value'>{'&' => '&amp;', '<' => '&lt;', '>' => '&gt;', '"' => '&quot;', "'" => '&#39;'}.freeze</td>
<td>&nbsp;</td>
<td class='context-item-desc'></td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>MAJOR</td>
<td>=</td>
<td class='context-item-value'>2</td>
<td>&nbsp;</td>
<td class='context-item-desc'>
<p>The major version of <a href="Forme.html"><code>Forme</code></a>, updated only for major changes that are likely to require modification to apps using <a href="Forme.html"><code>Forme</code></a>.</p>
</td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>MINOR</td>
<td>=</td>
<td class='context-item-value'>0</td>
<td>&nbsp;</td>
<td class='context-item-desc'>
<p>The minor version of <a href="Forme.html"><code>Forme</code></a>, updated for new feature releases of <a href="Forme.html"><code>Forme</code></a>.</p>
</td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>SHARED_WRAPPERS</td>
<td>=</td>
<td class='context-item-value'>[:tr, :table, :ol, :fieldset_ol]</td>
<td>&nbsp;</td>
<td class='context-item-desc'>
<p>Transformer symbols shared by wrapper and inputs_wrapper</p>
</td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>TINY</td>
<td>=</td>
<td class='context-item-value'>0</td>
<td>&nbsp;</td>
<td class='context-item-desc'>
<p>The patch version of <a href="Forme.html"><code>Forme</code></a>, updated only for bug fixes from the last feature release.</p>
</td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>TRANSFORMERS</td>
<td>=</td>
<td class='context-item-value'>{}</td>
<td>&nbsp;</td>
<td class='context-item-desc'>
<p>Main hash storing the registered transformers.  Maps transformer type symbols to subhashes containing the registered transformers for that type.  Those subhashes should have symbol keys and values that are either classes or objects that respond to <code>call</code>.</p>
</td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>TRANSFORMER_TYPES</td>
<td>=</td>
<td class='context-item-value'>[:formatter, :serializer, :wrapper, :error_handler, :helper, :labeler, :inputs_wrapper, :tag_wrapper, :set_wrapper]</td>
<td>&nbsp;</td>
<td class='context-item-desc'>
<p>Array of all supported transformer types.</p>
</td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>VERSION</td>
<td>=</td>
<td class='context-item-value'>"#{MAJOR}.#{MINOR}.#{TINY}".freeze</td>
<td>&nbsp;</td>
<td class='context-item-desc'>
<p>Version constant, use <code>Forme.version</code> instead.</p>
</td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>VERSION_NUMBER</td>
<td>=</td>
<td class='context-item-value'>MAJOR*10000 + MINOR*100 + TINY</td>
<td>&nbsp;</td>
<td class='context-item-desc'>
<p>The full version of <a href="Forme.html"><code>Forme</code></a> as a number (1.8.0 =&gt; 10800)</p>
</td>
</tr>
</table>
</div>
</div>
<div id='attribute-list'>
<h2 class='section-bar'>Attributes</h2>
<div class='name-list'>
<table>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>
<a name='attribute-c-default_add_blank_prompt'>default_add_blank_prompt</a>
</td>
<td class='context-item-value'>[RW]</td>
<td class='context-item-desc'>
<p>The default prompt to use for the :add_blank option (default: nil).</p>
</td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>
<a name='attribute-c-default_config'>default_config</a>
</td>
<td class='context-item-value'>[RW]</td>
<td class='context-item-desc'>
<p>Set the default configuration to use if none is explicitly specified (default: :default).</p>
</td>
</tr>
</table>
</div>
</div>
<div id='methods'>
<h2>Public Class methods</h2>
<div class='method public-class' id='method-method-c-attr_classes'>
<a name='method-c-attr_classes'></a>
<div class='synopsis'>
<span class='name'>attr_classes</span><span class='arguments'>(attr, *classes)</span>

</div>
<div class='description'>

<p>Update the <code>:class</code> entry in the <code>attr</code> hash with the given <code>classes</code>.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-c-attr_classes-source&#39;); return false'>
[show source]
</a>
<pre id='method-c-attr_classes-source'>    <span class="ruby-comment"># File lib/forme.rb</span>&#x000A;<span class="line-num">100</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">attr_classes</span>(<span class="ruby-identifier">attr</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">classes</span>)&#x000A;<span class="line-num">101</span>   <span class="ruby-identifier">attr</span>[<span class="ruby-value">:class</span>] = <span class="ruby-identifier">merge_classes</span>(<span class="ruby-identifier">attr</span>[<span class="ruby-value">:class</span>], <span class="ruby-operator">*</span><span class="ruby-identifier">classes</span>)&#x000A;<span class="line-num">102</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-class' id='method-method-c-form'>
<a name='method-c-form'></a>
<div class='synopsis'>
<span class='name'>form</span><span class='arguments'>(*a, &block)</span>

</div>
<div class='description'>

<p>Call <code>Forme::Form.form</code> with the given arguments and block.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-c-form-source&#39;); return false'>
[show source]
</a>
<pre id='method-c-form-source'>   <span class="ruby-comment"># File lib/forme.rb</span>&#x000A;<span class="line-num">95</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">form</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">a</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;<span class="line-num">96</span>   <span class="ruby-constant">Form</span>.<span class="ruby-identifier">form</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">a</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;<span class="line-num">97</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-class' id='method-method-c-h'>
<a name='method-c-h'></a>
<div class='synopsis'>
<span class='name'>h</span><span class='arguments'>(value)</span>

</div>
<div class='description'>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-c-h-source&#39;); return false'>
[show source]
</a>
<pre id='method-c-h-source'>   <span class="ruby-comment"># File lib/forme.rb</span>&#x000A;<span class="line-num">18</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">h</span>(<span class="ruby-identifier">value</span>)&#x000A;<span class="line-num">19</span>   <span class="ruby-constant">CGI</span>.<span class="ruby-identifier">escapeHTML</span>(<span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>)&#x000A;<span class="line-num">20</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-class' id='method-method-c-merge_classes'>
<a name='method-c-merge_classes'></a>
<div class='synopsis'>
<span class='name'>merge_classes</span><span class='arguments'>(*classes)</span>

</div>
<div class='description'>

<p>Return a string that includes all given class strings</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-c-merge_classes-source&#39;); return false'>
[show source]
</a>
<pre id='method-c-merge_classes-source'>    <span class="ruby-comment"># File lib/forme.rb</span>&#x000A;<span class="line-num">105</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">merge_classes</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">classes</span>)&#x000A;<span class="line-num">106</span>   <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39; &#39;</span>)&#x000A;<span class="line-num">107</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-class' id='method-method-c-raw'>
<a name='method-c-raw'></a>
<div class='synopsis'>
<span class='name'>raw</span><span class='arguments'>(s)</span>

</div>
<div class='description'>

<p>Create a <a href="Forme/RawString.html"><code>RawString</code></a> using the given string, which will disable automatic escaping for that string.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-c-raw-source&#39;); return false'>
[show source]
</a>
<pre id='method-c-raw-source'>    <span class="ruby-comment"># File lib/forme.rb</span>&#x000A;<span class="line-num">111</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">raw</span>(<span class="ruby-identifier">s</span>)&#x000A;<span class="line-num">112</span>   <span class="ruby-constant">RawString</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">s</span>)&#x000A;<span class="line-num">113</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-class' id='method-method-c-register_config'>
<a name='method-c-register_config'></a>
<div class='synopsis'>
<span class='name'>register_config</span><span class='arguments'>(type, hash)</span>

</div>
<div class='description'>

<p>Register a new configuration.  Type is the configuration name symbol, and hash maps transformer type symbols to transformer name symbols.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-c-register_config-source&#39;); return false'>
[show source]
</a>
<pre id='method-c-register_config-source'>   <span class="ruby-comment"># File lib/forme.rb</span>&#x000A;<span class="line-num">88</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">register_config</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">hash</span>)&#x000A;<span class="line-num">89</span>   <span class="ruby-constant">CONFIGURATIONS</span>[<span class="ruby-identifier">type</span>] = <span class="ruby-constant">CONFIGURATIONS</span>[<span class="ruby-identifier">hash</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:base</span>, <span class="ruby-value">:default</span>)].<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">hash</span>)&#x000A;<span class="line-num">90</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-class' id='method-method-c-register_transformer'>
<a name='method-c-register_transformer'></a>
<div class='synopsis'>
<span class='name'>register_transformer</span><span class='arguments'>(type, sym, obj=nil, &block)</span>

</div>
<div class='description'>

<p>Register a new transformer with this library. Arguments:</p>
<table class="rdoc-list note-list"><tbody><tr><td class='label'><code>type</code> </td><td>
<p>Transformer type symbol</p>
</td></tr><tr><td class='label'><code>sym</code> </td><td>
<p>Transformer name symbol</p>
</td></tr><tr><td class='label'><code>obj/block</code> </td><td>
<p>Transformer to associate with this symbol.  Should provide either <code>obj</code> or <code>block</code>, but not both.  If <code>obj</code> is given, should be either a <code>Class</code> instance or it should respond to <code>call</code>.  If a <code>Class</code> instance is given, instances of that class should respond to <code>call</code>, and a new instance of that class should be used for each transformation.</p>
</td></tr></tbody></table>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-c-register_transformer-source&#39;); return false'>
[show source]
</a>
<pre id='method-c-register_transformer-source'>   <span class="ruby-comment"># File lib/forme.rb</span>&#x000A;<span class="line-num">80</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">register_transformer</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">sym</span>, <span class="ruby-identifier">obj</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;<span class="line-num">81</span>   <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-string">&quot;Not a valid transformer type&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">TRANSFORMERS</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">type</span>)&#x000A;<span class="line-num">82</span>   <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-string">&quot;Must provide either block or obj, not both&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">obj</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">block</span>&#x000A;<span class="line-num">83</span>   <span class="ruby-constant">TRANSFORMERS</span>[<span class="ruby-identifier">type</span>][<span class="ruby-identifier">sym</span>] = <span class="ruby-identifier">obj</span><span class="ruby-operator">||</span><span class="ruby-identifier">block</span>&#x000A;<span class="line-num">84</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-class' id='method-method-c-transform'>
<a name='method-c-transform'></a>
<div class='synopsis'>
<span class='name'>transform</span><span class='arguments'>(type, trans_name, default_opts, *args, &block)</span>

</div>
<div class='description'>

<p>If there is a related transformer, call it with the given <code>args</code> and <code>block</code>. Otherwise, attempt to return the initial input without modifying it.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-c-transform-source&#39;); return false'>
[show source]
</a>
<pre id='method-c-transform-source'>    <span class="ruby-comment"># File lib/forme.rb</span>&#x000A;<span class="line-num">117</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">transform</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">trans_name</span>, <span class="ruby-identifier">default_opts</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;<span class="line-num">118</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">trans</span> = <span class="ruby-identifier">transformer</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">trans_name</span>, <span class="ruby-identifier">default_opts</span>)&#x000A;<span class="line-num">119</span>     <span class="ruby-identifier">trans</span>.<span class="ruby-identifier">call</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;<span class="line-num">120</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">121</span>     <span class="ruby-keyword">case</span> <span class="ruby-identifier">type</span>&#x000A;<span class="line-num">122</span>     <span class="ruby-keyword">when</span> <span class="ruby-value">:inputs_wrapper</span>&#x000A;<span class="line-num">123</span>       <span class="ruby-keyword">yield</span>&#x000A;<span class="line-num">124</span>     <span class="ruby-keyword">when</span> <span class="ruby-value">:labeler</span>, <span class="ruby-value">:error_handler</span>, <span class="ruby-value">:wrapper</span>, <span class="ruby-value">:helper</span>, <span class="ruby-value">:set_wrapper</span>, <span class="ruby-value">:tag_wrapper</span>&#x000A;<span class="line-num">125</span>       <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>&#x000A;<span class="line-num">126</span>     <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">127</span>       <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-node">&quot;No matching #{type}: #{trans_name.inspect}&quot;</span>&#x000A;<span class="line-num">128</span>     <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">129</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">130</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-class' id='method-method-c-transformer'>
<a name='method-c-transformer'></a>
<div class='synopsis'>
<span class='name'>transformer</span><span class='arguments'>(type, trans, default_opts=nil)</span>

</div>
<div class='description'>

<p>Get the related transformer for the given transformer type.  Output depends on the type of <code>trans</code>:</p>
<table class="rdoc-list note-list"><tbody><tr><td class='label'><code>Symbol</code> </td><td>
<p>Assume a request for a registered transformer, so look it up in the <code>TRANSFORRMERS</code> hash.</p>
</td></tr><tr><td class='label'><code>Hash</code> </td><td>
<p>If <code>type</code> is also a key in <code>trans</code>, return the related value from <code>trans</code>, unless the related value is <code>nil</code>, in which case, return <code>nil</code>.  If <code>type</code> is not a key in <code>trans</code>, use the default transformer for the receiver.</p>
</td></tr><tr><td class='label'><code>nil</code> </td><td>
<p>Assume the default transformer for this receiver.</p>
</td></tr><tr><td class='label'>otherwise </td><td>
<p>return <code>trans</code> directly if it responds to <code>call</code>, and raise an <code>Error</code> if not.</p>
</td></tr></tbody></table>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-c-transformer-source&#39;); return false'>
[show source]
</a>
<pre id='method-c-transformer-source'>    <span class="ruby-comment"># File lib/forme.rb</span>&#x000A;<span class="line-num">140</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">transformer</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">trans</span>, <span class="ruby-identifier">default_opts</span>=<span class="ruby-keyword">nil</span>)&#x000A;<span class="line-num">141</span>   <span class="ruby-keyword">case</span> <span class="ruby-identifier">trans</span>&#x000A;<span class="line-num">142</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Symbol</span>&#x000A;<span class="line-num">143</span>     <span class="ruby-identifier">type</span> = <span class="ruby-value">:wrapper</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:set_wrapper</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:tag_wrapper</span>&#x000A;<span class="line-num">144</span>     <span class="ruby-constant">TRANSFORMERS</span>[<span class="ruby-identifier">type</span>][<span class="ruby-identifier">trans</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">raise</span>(<span class="ruby-constant">Error</span>, <span class="ruby-node">&quot;invalid #{type}: #{trans.inspect} (valid #{type}s: #{TRANSFORMERS[type].keys.map(&amp;:inspect).join(&#39;, &#39;)})&quot;</span>)&#x000A;<span class="line-num">145</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>&#x000A;<span class="line-num">146</span>     <span class="ruby-keyword">if</span> <span class="ruby-identifier">trans</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">type</span>)&#x000A;<span class="line-num">147</span>       <span class="ruby-keyword">if</span> <span class="ruby-identifier">v</span> = <span class="ruby-identifier">trans</span>[<span class="ruby-identifier">type</span>]&#x000A;<span class="line-num">148</span>         <span class="ruby-identifier">transformer</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">v</span>, <span class="ruby-identifier">default_opts</span>)&#x000A;<span class="line-num">149</span>       <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">150</span>     <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">151</span>       <span class="ruby-identifier">transformer</span>(<span class="ruby-identifier">type</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">default_opts</span>)&#x000A;<span class="line-num">152</span>     <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">153</span>   <span class="ruby-keyword">when</span> <span class="ruby-keyword">nil</span>&#x000A;<span class="line-num">154</span>     <span class="ruby-identifier">transformer</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">default_opts</span>[<span class="ruby-identifier">type</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">default_opts</span>&#x000A;<span class="line-num">155</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">156</span>     <span class="ruby-keyword">if</span> <span class="ruby-identifier">trans</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:call</span>)&#x000A;<span class="line-num">157</span>       <span class="ruby-identifier">trans</span>&#x000A;<span class="line-num">158</span>     <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">159</span>       <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-node">&quot;#{type} #{trans.inspect} must respond to #call&quot;</span>&#x000A;<span class="line-num">160</span>     <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">161</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">162</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-class' id='method-method-c-version'>
<a name='method-c-version'></a>
<div class='synopsis'>
<span class='name'>version</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>Returns the version as a frozen string (e.g. &#39;0.1.0&#39;)</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-c-version-source&#39;); return false'>
[show source]
</a>
<pre id='method-c-version-source'>   <span class="ruby-comment"># File lib/forme/version.rb</span>&#x000A;<span class="line-num">22</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">version</span>&#x000A;<span class="line-num">23</span>   <span class="ruby-constant">VERSION</span>&#x000A;<span class="line-num">24</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
</div>
</div>

</div>
</div>

<div id='footer-push'></div>
</div>
<div id='footer'>
<a href="https://github.com/rdoc/hanna-nouveau"><strong>Hanna Nouveau</strong> RDoc template</a>
</div>
</body>
</html>
